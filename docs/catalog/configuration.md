# 구성 옵션 카탈로그

Tally Node의 모든 구성 옵션과 설정 가능한 값들을 문서화합니다.

## 개요

| 항목 | 값 |
|------|------|
| 설정 저장소 | NVS (Non-Volatile Storage) |
| 설정 방식 | 웹 UI 또는 API |
| 영구 저장 | ✅ 지원 |

---

## 1. LoRa RF 파라미터

### 개요

LoRa 무선 통신을 위한 RF 파라미터 설정입니다.

| 항목 | 값 |
|------|------|
| 카테고리 | RF 설정 |
| 저장소 | NVS |
| 적용 시점 | 재시작 후 |

### 파라미터

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **주파수(MHz)** | 실수 | 920-928 | 923.0 | 한국 LoRa 대역 (920-928MHz) |
| **SF** | 정수 | 7-12 | 9 | 확장 인자 (높을수록 감도 향상, 속도 저하) |
| **대역폭(kHz)** | 정수 | 125, 250, 500 | 125 | 신호 대역폭 |
| **CR** | 정수 | 5-8 | 5 | 코딩 레이트 (4/5, 4/6, 4/7, 4/8) |
| **출력 전력(dBm)** | 정수 | -9 ~ 22 | 17 | 송신 전력 (높을수록 거리 증가) |
| **Sync Word** | 정수 | 0x12, 0x24 | 0x12 | 동기화 워드 (네트워크 식별) |

### SF (확장 인자) 상세

| SF | 비트/심볼 | 감도 향상 | 속도 저하 | 추천 환경 |
|----|-----------|-----------|-----------|-----------|
| **7** | 7 | 기준 | 기준 | 단거리, 고속 |
| **8** | 8 | +3dB | 2배 저하 | 일반적인 환경 |
| **9** | 9 | +6dB | 4배 저하 | 표준 (기본값) |
| **10** | 10 | +9dB | 8배 저하 | 장거리 |
| **11** | 11 | +12dB | 16배 저하 | 매우 장거리 |
| **12** | 12 | +15dB | 32배 저하 | 최대 거리 |

### 대역폭 상세

| 대역폭 | 특징 | 추천 환경 |
|--------|------|-----------|
| **125kHz** | 최대 감도, 최저 속도 | 장거리 통신 (기본값) |
| **250kHz** | 중간 감도, 중간 속도 | 일반적인 환경 |
| **500kHz** | 최저 감도, 최고 속도 | 단거리 고속 통신 |

### 코딩 레이트 상세

| CR | 비트 | 오류 정정 능력 | 데이터 오버헤드 |
|----|-----|----------------|----------------|
| **5** (4/5) | 5 | 최소 | 최소 (기본값) |
| **6** (4/6) | 6 | 낮음 | 낮음 |
| **7** (4/7) | 7 | 중간 | 중간 |
| **8** (4/8) | 8 | 높음 | 높음 |

### 설정 예시

```
# 표준 설정 (국내)
주파수: 923.0MHz
SF: 9
대역폭: 125kHz
CR: 5 (4/5)
출력 전력: 17dBm

# 장거리 우선
주파수: 923.0MHz
SF: 12
대역폭: 125kHz
CR: 8 (4/8)
출력 전력: 22dBm

# 고속 통신 우선
주파수: 923.0MHz
SF: 7
대역폭: 500kHz
CR: 5 (4/5)
출력 전력: 17dBm
```

---

## 2. 네트워크 설정

### 개요

WiFi 및 Ethernet 네트워크 설정입니다.

| 항목 | 값 |
|------|------|
| 카테고리 | 네트워크 설정 |
| 저장소 | NVS |
| 적용 시점 | 네트워크 재시작 후 |

### WiFi 설정

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **모드** | 문자열 | AP, STA | STA | AP(액세스 포인트) 또는 STA(스테이션) |
| **SSID** | 문자열 | 1-32자 | - | WiFi 네트워크 이름 (STA 모드) |
| **비밀번호** | 문자열 | 8-64자 | - | WPA2 비밀번호 (STA 모드) |
| **채널** | 정수 | 1-13 | 1 | WiFi 채널 (AP 모드) |
| **IP 할당** | 문자열 | DHCP, Static | DHCP | IP 주소 할당 방식 |
| **고정 IP** | 문자열 | x.x.x.x | - | 고정 IP 주소 (Static 모드) |
| **서브넷 마스크** | 문자열 | x.x.x.x | 255.255.255.0 | 서브넷 마스크 (Static 모드) |
| **게이트웨이** | 문자열 | x.x.x.x | - | 기본 게이트웨이 (Static 모드) |
| **DNS** | 문자열 | x.x.x.x | - | DNS 서버 (Static 모드) |

### WiFi 모드

| 모드 | 설명 | 용도 |
|------|------|------|
| **STA** | Station 모드 | 기존 WiFi 네트워크에 연결 (TX 모드) |
| **AP** | Access Point 모드 | 자체 WiFi 네트워크 생성 (초기 설정) |

### Ethernet 설정

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **사용 여부** | 불리언 | true, false | false | W5500 Ethernet 사용 여부 |
| **IP 할당** | 문자열 | DHCP, Static | DHCP | IP 주소 할당 방식 |
| **고정 IP** | 문자열 | x.x.x.x | - | 고정 IP 주소 (Static 모드) |
| **서브넷 마스크** | 문자열 | x.x.x.x | 255.255.255.0 | 서브넷 마스크 (Static 모드) |
| **게이트웨이** | 문자열 | x.x.x.x | - | 기본 게이트웨이 (Static 모드) |
| **DNS** | 문자열 | x.x.x.x | - | DNS 서버 (Static 모드) |

### 설정 예시

```
# WiFi STA 모드 (DHCP)
모드: STA
SSID: MyNetwork
비밀번호: MyPassword123
IP 할당: DHCP

# WiFi STA 모드 (Static IP)
모드: STA
SSID: MyNetwork
비밀번호: MyPassword123
IP 할당: Static
고정 IP: 192.168.1.100
서브넷 마스크: 255.255.255.0
게이트웨이: 192.168.1.1
DNS: 8.8.8.8

# Ethernet (Static IP)
사용 여부: true
IP 할당: Static
고정 IP: 192.168.1.101
서브넷 마스크: 255.255.255.0
게이트웨이: 192.168.1.1
DNS: 8.8.8.8
```

---

## 3. 스위처 설정

### 개요

비디오 스위처 연결 설정입니다.

| 항목 | 값 |
|------|------|
| 카테고리 | 스위처 설정 |
| 저장소 | NVS |
| 적용 시점 | 스위처 서비스 재시작 후 |

### Primary 스위처

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **프로토콜** | 문자열 | atem, vmix, obs | atem | 스위처 프로토콜 |
| **IP 주소** | 문자열 | x.x.x.x | - | 스위처 IP 주소 |
| **포트** | 정수 | 1-65535 | 자동 | 프로토콜 포트 (자동 설정 권장) |

### Secondary 스위처

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **프로토콜** | 문자열 | atem, vmix, obs | - | 스위처 프로토콜 |
| **IP 주소** | 문자열 | x.x.x.x | - | 스위처 IP 주소 |
| **포트** | 정수 | 1-65535 | 자동 | 프로토콜 포트 (자동 설정 권장) |
| **사용 여부** | 불리언 | true, false | false | Secondary 스위처 사용 |

### 프로토콜 포트

| 프로토콜 | 포트 |
|----------|------|
| **ATEM** | 9910 |
| **vMix** | 8099 |
| **OBS** | 4455 |

### 설정 예시

```
# ATEM Primary
프로토콜: atem
IP 주소: 192.168.1.10

# vMix Secondary
프로토콜: vmix
IP 주소: 192.168.1.11
사용 여부: true

# 듀얼모드 (ATEM + vMix)
Primary: atem://192.168.1.10
Secondary: vmix://192.168.1.11
```

---

## 4. LED/디스플레이 설정

### 개요

LED 밝기 및 색상 설정입니다.

| 항목 | 값 |
|------|------|
| 카테고리 | 디스플레이 설정 |
| 저장소 | NVS |
| 적용 시점 | 즉시 |

### LED 색상

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **Program(R)** | 정수 | 0-255 | 255 | Program LED 빨강 |
| **Program(G)** | 정수 | 0-255 | 0 | Program LED 녹색 |
| **Program(B)** | 정수 | 0-255 | 0 | Program LED 파랑 |
| **Preview(R)** | 정수 | 0-255 | 0 | Preview LED 빨강 |
| **Preview(G)** | 정수 | 0-255 | 255 | Preview LED 녹색 |
| **Preview(B)** | 정수 | 0-255 | 0 | Preview LED 파랑 |

### 밝기

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **밝기** | 정수 | 0-255 | 128 | LED 밝기 (0=꺼짐, 255=최대) |

### 카메라 ID

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **카메라 ID** | 정수 | 1-20 | 1 | RX 장치의 카메라 ID |

### 색상 프리셋

| 프리셋 | Program(R,G,B) | Preview(R,G,B) | 설명 |
|--------|----------------|-----------------|------|
| **표준** | 255, 0, 0 | 0, 255, 0 | 빨강/초록 (기본값) |
| **고대비** | 255, 0, 0 | 0, 0, 255 | 빨강/파랑 |
| **따뜻함** | 255, 100, 0 | 0, 255, 100 | 주황/연두 |
| **파스텔** | 255, 150, 150 | 150, 255, 150 | 연빨강/연두 |

### 설정 예시

```
# 표준 설정
Program: 255, 0, 0 (빨강)
Preview: 0, 255, 0 (초록)
밝기: 128
카메라 ID: 1

# 고대비
Program: 255, 0, 0 (빨강)
Preview: 0, 0, 255 (파랑)
밝기: 200
카메라 ID: 5
```

---

## 5. 시스템 설정

### 개요

시스템 동작 관련 설정입니다.

| 항목 | 값 |
|------|------|
| 카테고리 | 시스템 설정 |
| 저장소 | NVS |
| 적용 시점 | 재시작 후 |

### 기기 모드

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **기기 모드** | 문자열 | TX, RX | TX | 운영 모드 (TX/RX) |

| 모드 | 설명 |
|------|------|
| **TX** | 스위처 연결 및 LoRa 송신 모드 |
| **RX** | LoRa 수신 및 LED/디스플레이 표시 모드 |

### 디바이스 ID

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **디바이스 ID** | 문자열 | 1-32자 | - | 장치 고유 식별자 |

### 언어

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **언어** | 문자열 | ko, en | ko | UI 언어 설정 |

### 로깅 레벨

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **로깅 레벨** | 문자열 | ERROR, WARN, INFO, DEBUG | INFO | 로그 상세도 |

| 레벨 | 설명 |
|------|------|
| **ERROR** | 오류 메시지만 출력 |
| **WARN** | 경고 및 오류 메시지 출력 |
| **INFO** | 일반 정보, 경고, 오류 출력 (기본값) |
| **DEBUG** | 디버그 정보를 포함한 모든 메시지 출력 |

### 라이선스

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **라이선스 키** | 문자열 | 32자 | - | 라이선스 키 |

---

## 6. 웹 서버 설정

### 개요

웹 UI 서버 관련 설정입니다.

| 항목 | 값 |
|------|------|
| 카테고리 | 웹 서버 설정 |
| 저장소 | NVS |
| 적용 시점 | 웹 서버 재시작 후 |

### HTTP 설정

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **포트** | 정수 | 1-65535 | 80 | HTTP 포트 |
| **인증 여부** | 불리언 | true, false | false | 기본 인증 사용 여부 |
| **사용자 이름** | 문자열 | 1-32자 | - | 인증 사용자 이름 |
| **비밀번호** | 문자열 | 4-64자 | - | 인증 비밀번호 |

### HTTPS 설정 (계획)

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **HTTPS 사용** | 불리언 | true, false | false | HTTPS 사용 여부 |
| **포트** | 정수 | 1-65535 | 443 | HTTPS 포트 |
| **인증서** | 문자열 | - | - | SSL 인증서 |

---

## 7. 배터리 설정

### 개요

배터리 모니터링 및 저전량 경고 설정입니다.

| 항목 | 값 |
|------|------|
| 카테고리 | 배터리 설정 |
| 저장소 | NVS |
| 적용 시점 | 즉시 |

### 배터리 임계값

| 파라미터 | 타입 | 범위 | 기본값 | 설명 |
|----------|------|------|--------|------|
| **저전량 경고** | 정수 | 10-30 (%) | 20 | 저전량 경고 임계값 |
| **Empty 모드 진입** | 정수 | 5-15 (%) | 15 | Empty 페이지 진입 임계값 |
| **Deep Sleep 카운트다운** | 정수 | 10-60 (초) | 30 | Deep Sleep 진입 전 카운트다운 |

---

## 관련 문서

- [하드웨어 카탈로그](hardware.md)
- [소프트웨어 기능 카탈로그](software-features.md)
- [프로토콜 지원 카탈로그](protocols.md)
- [아키텍처 문서](../ARCHITECTURE.md)

---

**태그**: `CONFIG-LORA`, `CONFIG-NETWORK`, `CONFIG-SWITCHER`, `CONFIG-DISPLAY`, `CONFIG-SYSTEM`
**요구사항**: REQ-CATALOG-014, REQ-CATALOG-015, REQ-CATALOG-016, REQ-CATALOG-017
